# ReqMan 需求管理系统	测试文档

* 本文档将详细阐述 ReqMan 所实现的各个原始需求以及如何进行查看与验证。在本次项目中， Undefined 小组合作开发的 ReqMan 管理系统顺利完成了从 IR.001 至 IR.031 的共 31 个基本需求与拓展需求，下面将对每个需求的实现进行详细阐述。

## 一、原始需求完成情况

| **原始需求** | **交付情况**  | **原始需求** | **交付情况**  | **原始需求** | **交付情况**             |
| ------------ | ------------- | ------------ | ------------- | ------------ | ------------------------ |
| **IR.001**   | **Sprint  2** | **IR.012**   | **Sprint  3** | **IR.023**   | **Sprint  1**            |
| **IR.002**   | **Sprint  2** | **IR.013**   | **Sprint  3** | **IR.024**   | **Sprint  1**            |
| **IR.003**   | **Sprint  2** | **IR.014**   | **Sprint  3** | **IR.025**   | **Sprint  1**            |
| **IR.004**   | **Sprint  2** | **IR.015**   | **Sprint  3** | **IR.026**   | **Sprint  3**            |
| **IR.005**   | **Sprint  2** | **IR.016**   | **Sprint  3** | **IR.027**   | **Sprint  3**            |
| **IR.006**   | **Sprint  2** | **IR.017**   | **Sprint  3** | **IR.028**   | **Sprint  4**            |
| **IR.007**   | **Sprint  2** | **IR.018**   | **Sprint  3** | **IR.029**   | **Sprint  4 **           |
| **IR.008**   | **Sprint  2** | **IR.019**   | **Sprint  3** | **IR.030**   | **Sprint  4**            |
| **IR.009**   | **Sprint  3** | **IR.020**   | **Sprint 4**  | **IR.031**   | **从 Sprint 2 开始管理** |
| **IR.010**   | **Sprint  3** | **IR.021**   | **Sprint  1** | **SMTP**     | **Sprint  3**            |
| **IR.011**   | **Sprint  3** | **IR.022**   | **Sprint  2** | **Webhooks** | **Sprint  3**            |

## 二、原始需求测试

### 1. IR.001

* 需求说明：系统工程师 支持 录入原始需求

* 需求类别：基础

* 测试方法：

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“原始需求管理”一栏，点击右上角新建原始需求，即可录入新的原始需求。其中原始需求标题要求不能为空，描述支持 markdown 语法输入。

  ![image.png](https://s2.loli.net/2022/05/08/yMqeOldpAQBo4xT.png)

### 2. IR.002

* 需求说明：系统工程师 支持 定义软件系统服务 

* 需求类别：基础

* 测试方法：

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“项目服务管理”一栏，点击右上角创建新服务，即可定义新的软件系统服务。其中服务名称不能为空，服务描述支持 markdown 语法输入。

  ![image.png](https://s2.loli.net/2022/05/08/9UfaRMFP2XdneYV.png)

### 3. IR.003

* 需求说明： 系统工程师 支持 分解原始需求到功能需求 

* 需求类别：基础

* 测试方法：

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“功能需求管理”一栏，点击右上角新建功能需求，即可实现新的功能需求的添加。其中功能需求名称不能为空，功能需求介绍支持 markdown 语法输入。初始状态在创建时只能为未开始。功能需求权重反应该功能需求重要性，其值越高代表越重要，该权重会对各个完成进度指标产生影响，默认值为 1。

  ![image.png](https://s2.loli.net/2022/05/08/BxtXnJ7hYl2GSy3.png)

  添加完若干功能需求后，点击左侧“原始需求管理”一栏，选择目标原始需求，点击该行右侧“关联功能需求”，即会显示功能需求关联列表对话框。点击选中目标原始需求希望关联的功能需求，再点击确定即可实现关联，完成原始需求向功能需求的分解。

  ![image.png](https://s2.loli.net/2022/05/08/5ZUWgAuFC9fwt2S.png)

  特别的，我们提供了可以根据功能需求标题以及状态对功能需求进行筛选。二者均支持文本搜索式筛选，方便用户对功能需求进行快速锁定。

  ![image.png](https://s2.loli.net/2022/05/08/myCZckSwGJoXYM2.png)

  

### 4. IR.004

* 需求说明：系统工程师 支持 关联功能需求到各服务 

* 需求类别：基础

* 测试方法：

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“功能需求管理”一栏，选择需要添加服务的目标功能需求。之后点击该行右侧“编辑”，即会显示出编辑功能需求对话框。之后点击服务选择，即可选择目标功能需求希望关联到的系统服务。注意一个功能需求只能关联唯一的系统服务。

  ![image.png](https://s2.loli.net/2022/05/08/JEIkLTwYM2xzNWe.png)

### 5. IR.005

* 需求说明：系统工程师 支持 划分功能需求到不同开发迭代 

* 需求类别：基础

* 测试方法：

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“迭代周期”一栏，点击右上角迭代周期管理，即可新建迭代周期。其中周期名称，展示编号与周期时间区间均为必填项。

  ![image.png](https://s2.loli.net/2022/05/08/3c4vDfBitSZd25K.png)

  之后在项目界面点击左侧“功能需求管理”一栏，选择需要添加迭代的目标功能需求。之后点击该行右侧“编辑”，即会显示出编辑功能需求对话框。之后点击迭代选择，即可选择目标功能需求希望关联到的开发迭代。注意一个功能需求支持关联多个不同的开发迭代。

  ![image.png](https://s2.loli.net/2022/05/08/zATloy6mfJOKnZa.png)

### 6. IR.006

* 需求说明：系统工程师 支持 指定迭代开发责任人

* 需求类别：基础

* 测试方法：

  我们在实现中对该功能的粒度进行了进一步细化，可以以每条功能需求为最小单元，指定开发负责人。

  以系统工程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“功能需求管理”一栏，选择需要添加开发负责人的目标功能需求。之后点击该行右侧“编辑”，即会显示出编辑功能需求对话框。之后点击指定负责人，即可选择目标功能需求希望指定的负责人。注意每个功能需求仅能有一名负责人，且该负责人须在同一项目中（即只能在该项目的成员列表中进行选择，不可手动随意添加）。

  ![image.png](https://s2.loli.net/2022/05/08/oFimc5217wQpWJ3.png)

### 7. IR.007

* 需求说明：开发工程师 支持 查看所有需求、负责的迭代、迭代关联的需求 

* 需求类别：基础

* 测试方法：

  以开发程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“需求查看”一栏，即可查看当前所有的原始需求，功能需求以及二者间的关联关系（点击每条原始需求左侧“+”即可展开对应的功能需求列表）。

  在每一条功能需求中，可以看到关联迭代以及负责人等相关信息。

  ![image.png](https://s2.loli.net/2022/05/08/CB4J2zatneEpOgQ.png)

  特别的，为了更便捷地展示详细信息，在每一条功能需求与原始需求处，点击标题即可弹出对应的功能需求或原始需求卡片；此外，点击每条原始需求的创建者头像，或者功能需求的负责人头像，均可查看该创建者或负责人的详细信息。

  ![image.png](https://s2.loli.net/2022/05/08/Qyo6nUzt8HkIgT7.png)

  ![image.png](https://s2.loli.net/2022/05/08/sbpfUXMJhrcOWlm.png)

  ![image.png](https://s2.loli.net/2022/05/08/S1fvmTOpNshaAzK.png)

### 8. IR.008

* 需求说明： 开发工程师 支持 根据交付情况修改功能需求状态：初始、开发中、已交付 

* 需求类别：基础

* 测试方法：

  以开发程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“功能需求管理”一栏，找到需要修改状态的目标功能需求，点击栏目右侧“编辑”，之后点击状态选择，即可进行状态修改。注意本系统中状态有“未开始”、“开发中”、“测试中”与“已交付”四种，只能选择一种状态。此外，开发工程师无法修改其他功能需求属性（鉴权不允许）。

  ![image.png](https://s2.loli.net/2022/05/08/2sgpUxDwWSCeRBK.png)

  此外，本系统已实现了基于关联仓库的功能状态自动更新，无需开发工程师手动在系统中手动修改，也可以实现自动更新与状态转变。在 IR.009 中将详细阐述。

### 9. IR.009

* 需求说明：开发工程师 支持 基于 commit 修改功能需求状态 

* 需求类别：提高

* 测试方法：

  首先，该项目需与仓库进行关联。具体方法为以项目管理员身份进入系统，选择想要进入的项目，之后点击左侧“项目设置”一栏。在这里用户可以将该项目与远端 GitLab 仓库进行对接。共有两种对接方式：

  1. 在系统的项目仓库中与远端仓库令牌进行直接对接。点击添加远程仓库按钮，根据远程仓库信息输入仓库名称，仓库 ID 等信息。同时，在远程 GitLab 仓库设置中，用户可以新建令牌（创建项目访问令牌），并将得到的令牌填入对话框中仓库 Access Token 一栏。设置完成后，该项目便可以实现定时自动拉取远程仓库信息。
  2. 通过 Webhooks 实现对接。再添加仓库之后，在下方表格中点击复制 secret token，并将其复制进远端仓库 Webhooks 设置中的 Secret Token 一栏。设置完成后便可以实现远端仓库信息变更时（例如 Commit 或 MR ）实现变更信息的自动化拉取。

  在对接好远端仓库之后，可以在以项目管理员的身份在需求管理系统的该项目中发布新的功能需求，并远端仓库当中发布一个 issue 以便进行测试（注意如果该 issue 属于缺陷，则需要在远端仓库创建 issue 时打上 bug 标记，详见用户手册，该功能可能会在之后的测试当中用到）。

  之后，请以开发工程师的身份重新进入该项目，这时点击左侧“功能需求管理”一栏，可以看到刚刚发布的新功能需求，状态应为未开始。

  此时在本地正常进行代码编写，按一定规范进行 commit 并 push 至远端仓库（具体 SR 命名规范等详见用户手册）。在远端仓库收到变更后，管理系统会自动拉取更新信息。这时以开发工程师的身份再次查看“功能管理需求”界面的对应功能需求，即会发现标签已从“未开始”自动更新为“开发中”。

  当在远端仓库中开发工程师对该 issue 发起 MR 时，此时需求管理系统会自动检测到更新，系统中该对应的功能需求也会从“开发中”变为“测试中”。

  以上为基于开发工程师 commit 与 MR 的系统自动信息拉取与状态变更的完整流程。除此之外，质量保证工程师在进行 MR 的合并之后，对应的功能需求状态会从“测试中”变为“已交付”。

### 10. IR.010

* 需求说明：质量保证工程师 支持 查看迭代状态、需求状态、需求交付与迭代计划的偏差 

* 需求类别：基础

* 测试方法：

  以质量保证程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“迭代周期”一栏即可以查看当前项目的迭代状态。迭代表中显示了每个原始需求所关联的迭代以及在该迭代当中的完成度。注意该完成度是与以该迭代中预期原始需求的完成度作为分母进行计算。

  点击每条原始需求左侧“+”号，可以查看其关联的功能需求在每个迭代中的完成状态。

  ![image.png](https://s2.loli.net/2022/05/08/gFUSMIsyOXKLVQw.png)

  此外，点击左侧“需求查看”一栏，亦可查看所有需求状态与交付情况，与开发工程师类似，在此不再赘述。

### 11. IR.011

* 需求说明：质量保证工程师 支持 查看定时获取的 Merge Request 信息 

* 需求类别：基础

* 测试方法：

  以质量保证程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“项目合并情况”一栏即可查看当前项目的各个合并请求相关信息。

  ![image.png](https://s2.loli.net/2022/05/08/Jba2qKVtnMQR47L.png)

  特别的，点击具体的每条合并请求，可以通过合并请求卡片查看详细信息。

  ![image.png](https://s2.loli.net/2022/05/08/bwY9OtWVaI8xoRP.png)

### 12. IR.012

* 需求说明：质量保证工程师 支持 将 MR 与功能需求关联 

* 需求类别：基础

* 测试方法：

  以质量保证程师的身份进入系统，选择要进入的项目，之后在项目界面点击左侧“项目合并情况”一栏，并点击具体的某条合并请求信息，即可查看合并请求卡片。在卡片中点击“关联功能需求”一栏，即可手动选择该项目中的功能需求。其中，每条合并请求仅能关联一条功能需求；功能需求必须从本项目中已创建的功能需求当中选择，且支持文本匹配搜索。

  ![image.png](https://s2.loli.net/2022/05/08/vsHGhkmfEeWqXOT.png)

### 13. IR.013

* 需求说明：质量保证工程师 支持 查看 自动完成的 MR 与功能需求的关联 

* 需求类别：提高

  按照 IR.009 中的操作

### 14. IR.014

* 需求说明：质量保证工程师 支持 查看 功能需求在哪些 MR 交付 
* 需求类别：基础

### 15. IR.015

* 需求说明：质量保证⼯程师 ⽀持 查看 需求交付后的缺陷 （issue） 统计 
* 需求类别：基础

### 16. IR.016

* 需求说明：质量保证工程师 支持 查看 缺陷在哪些 MR 修复 
* 需求类别：基础

### 17. IR.017

* 需求说明：质量保证工程师 支持 查看 基于 issue 的需求交付质量分析 
* 需求类别：提高

### 18. IR.018

* 需求说明：质量保证工程师 支持 查看基于 MR 数量、代码行数的开发工程师活跃度 
* 需求类别：提高

### 19. IR.019

* 需求说明：质量保证工程师 支持 查看基于 issue 解决时间的开发工程师能力评价 
* 需求类别：提高

### 20. IR.020

* 需求说明：质量保证工程师 支持 查看代码自动分析结果（代码片段对应的功能需求） 
* 需求类别：提高

### 21. IR.021

* 需求说明：所有用户 支持 注册，注册信息包含用户名，密码，角色 
* 需求类别：基础

### 22. IR.022

* 需求说明：所有用户 支持 修改密码、经负责人同意后修改角色 
* 需求类别：基础

### 23. IR.023

* 需求说明：所有用户 认证后才可操作 
* 需求类别：基础

### 24. IR.024

* 需求说明：安全性 用户和系统访问使用安全加密通道 
* 需求类别：基础

### 25. IR.025

* 需求说明： 安全性 不使⽤明文存储用户密码，不需要还原口令时必须不可逆加密 
* 需求类别：基础

### 26. IR.026

* 需求说明：系统规格 1. 支持100个用户同时在线 2. 支持至少1k原始需求、10k功能需求。 
* 需求类别：基础

### 27. IR.027

* 需求说明：系统设计 一个功能需求只由一个系统服务实现 
* 需求类别：基础

### 28. IR.028

* 需求说明：其它 支持 角色更改导致的需求回退 
* 需求类别：提高

### 29. IR.029

* 需求说明：其它 支持 开发过程需求更改 
* 需求类别：提高

### 30. IR.030

* 需求说明：其它 数据可视化 
* 需求类别：提高

### 31. IR.031

* 需求说明：使用自己的项目管理项目开发过程 
* 需求类别：提高







